{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/volunteers.service\";\nimport * as i2 from \"../services/shelters.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction VolunteersComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 1);\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction VolunteersComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 2);\n    i0.ɵɵtext(2, \"Volunteers not found!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction VolunteersComponent_div_1_div_2_form_3_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sh_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", sh_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sh_r7.name);\n  }\n}\nfunction VolunteersComponent_div_1_div_2_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 6);\n    i0.ɵɵlistener(\"ngSubmit\", function VolunteersComponent_div_1_div_2_form_3_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.add_volunteer());\n    });\n    i0.ɵɵelementStart(1, \"div\", 7)(2, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_form_3_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.volunteer.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 9);\n    i0.ɵɵtext(4, \"Name: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_form_3_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.volunteer.surname = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 11);\n    i0.ɵɵtext(8, \"Surname: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_form_3_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r12.volunteer.age = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 14);\n    i0.ɵɵtext(12, \"Age: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 12)(14, \"select\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_form_3_Template_select_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.volunteer.working_shelter = $event);\n    });\n    i0.ɵɵtemplate(15, VolunteersComponent_div_1_div_2_form_3_option_15_Template, 2, 2, \"option\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\", 17);\n    i0.ɵɵtext(17, \"Shelter: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"button\", 18);\n    i0.ɵɵtext(19, \"SAVE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵelementStart(21, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function VolunteersComponent_div_1_div_2_form_3_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.show_volunteer_form = false);\n    });\n    i0.ɵɵtext(22, \"CANCEL\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.volunteer.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.volunteer.surname);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.volunteer.age);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.volunteer.working_shelter);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.shelters);\n  }\n}\nfunction VolunteersComponent_div_1_div_2_div_4_form_12_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sh_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", sh_r18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sh_r18.name);\n  }\n}\nfunction VolunteersComponent_div_1_div_2_div_4_form_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 29);\n    i0.ɵɵlistener(\"ngSubmit\", function VolunteersComponent_div_1_div_2_div_4_form_12_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r19.update_volunteer());\n    });\n    i0.ɵɵelementStart(1, \"div\", 7)(2, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_div_4_form_12_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r21.volunteer.name = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 31);\n    i0.ɵɵtext(4, \"Name: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_div_4_form_12_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r22 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r22.volunteer.surname = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 31);\n    i0.ɵɵtext(8, \"Surname: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_div_4_form_12_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r23 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r23.volunteer.age = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 31);\n    i0.ɵɵtext(12, \"Age: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 12)(14, \"select\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function VolunteersComponent_div_1_div_2_div_4_form_12_Template_select_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r24 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r24.volunteer.working_shelter = $event);\n    });\n    i0.ɵɵelementStart(15, \"option\", 34);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, VolunteersComponent_div_1_div_2_div_4_form_12_option_17_Template, 2, 2, \"option\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"label\", 31);\n    i0.ɵɵtext(19, \"Shelter: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"button\", 18);\n    i0.ɵɵtext(21, \"SAVE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelementStart(23, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function VolunteersComponent_div_1_div_2_div_4_form_12_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r25 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r25.show_volunteer_form = false);\n    });\n    i0.ɵɵtext(24, \"CANCEL\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r15 = i0.ɵɵnextContext().$implicit;\n    const ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"floating_name_\", v_r15.id, \"\")(\"placeholder\", \"volunteer_name_\", v_r15.id, \"\")(\"name\", \"volunteer_name_\", v_r15.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r16.volunteer.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"floating_name_\", v_r15.id, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"floating_surname_\", v_r15.id, \"\")(\"placeholder\", \"volunteer_surname_\", v_r15.id, \"\")(\"name\", \"volunteer_surname_\", v_r15.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r16.volunteer.surname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"floating_surname_\", v_r15.id, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"floating_age_\", v_r15.id, \"\")(\"placeholder\", \"volunteer_age_\", v_r15.id, \"\")(\"name\", \"volunteer_age_\", v_r15.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r16.volunteer.age);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"floating_age_\", v_r15.id, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"volunteer_shelter_\", v_r15.id, \"\")(\"name\", \"volunteer_shelter_\", v_r15.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r16.volunteer.working_shelter);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngValue\", ctx_r16.volunteer.working_shelter);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r16.volunteer.working_shelter.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.shelters);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"volunteer_shelter_\", v_r15.id, \"\");\n  }\n}\nfunction VolunteersComponent_div_1_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"h5\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h6\", 24);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 25);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function VolunteersComponent_div_1_div_2_div_4_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const v_r15 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r27.edit_volunteer(v_r15));\n    });\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function VolunteersComponent_div_1_div_2_div_4_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const v_r15 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r29.delete_volunteer(v_r15.id));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, VolunteersComponent_div_1_div_2_div_4_form_12_Template, 25, 22, \"form\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const v_r15 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", v_r15.name, \" \", v_r15.surname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Works at \", v_r15.working_shelter.name, \" shelter\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", v_r15.age, \" years old.\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r5.show_volunteer_form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.show_volunteer_form && ctx_r5.volunteer_id == v_r15.id);\n  }\n}\nfunction VolunteersComponent_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function VolunteersComponent_div_1_div_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.show_add_volunteer_form());\n    });\n    i0.ɵɵtext(2, \"ADD VOLUNTEER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, VolunteersComponent_div_1_div_2_form_3_Template, 23, 5, \"form\", 4);\n    i0.ɵɵtemplate(4, VolunteersComponent_div_1_div_2_div_4_Template, 13, 6, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.show_volunteer_form);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.show_volunteer_form && ctx_r3.volunteer_id == -1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.volunteers);\n  }\n}\nfunction VolunteersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, VolunteersComponent_div_1_div_1_Template, 3, 0, \"div\", 0);\n    i0.ɵɵtemplate(2, VolunteersComponent_div_1_div_2_Template, 5, 3, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.volunteer_not_found);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.volunteer_not_found);\n  }\n}\nexport class VolunteersComponent {\n  constructor(volunteersService, sheltersService) {\n    this.volunteersService = volunteersService;\n    this.sheltersService = sheltersService;\n    this.volunteers = [];\n    this.loaded = true;\n    this.volunteer_not_found = false;\n    this.show_volunteer_form = false;\n    this.volunteer_id = -1;\n    this.shelters = [];\n    this.volunteer = {};\n  }\n  ngOnInit() {\n    this.loaded = false;\n    this.volunteersService.getAllVolunteers().subscribe(volunteers => {\n      this.volunteers = volunteers;\n      this.loaded = true;\n    }, err => {\n      this.volunteer_not_found = true;\n      this.loaded = true;\n    });\n    this.sheltersService.getAllShelters().subscribe(shelters => {\n      this.shelters = shelters;\n    }, err => {\n      console.log('shelters not founded');\n    });\n  }\n  add_volunteer() {\n    // console.log(this.volunteer);\n    this.volunteersService.addVolunteer(this.volunteer).subscribe(v => {\n      //temp comment\n      // this.volunteers.push(v);\n      this.show_volunteer_form = false;\n    }, err => {\n      console.log('Volunteer can not be added');\n    });\n  }\n  edit_volunteer(v) {\n    this.volunteer = v;\n    this.volunteer_id = v.id;\n    this.show_volunteer_form = true;\n  }\n  update_volunteer() {\n    this.volunteersService.updateVolunteer(this.volunteer_id, this.volunteer).subscribe(v => {\n      for (let i = 0; i < this.volunteers.length; i++) {\n        if (this.volunteers[i].id == v.id) {\n          this.volunteers[i] = v;\n          break;\n        }\n      }\n      this.show_volunteer_form = false;\n    }, err => {\n      console.log('Error updating volunteer!');\n    });\n  }\n  delete_volunteer(id) {\n    this.volunteersService.deleteVolunteer(id).subscribe(status => {\n      for (let i = 0; i < this.volunteers.length; i++) {\n        if (this.volunteers[i].id == id) {\n          this.volunteers.splice(i, 1);\n        }\n      }\n    }, err => {\n      console.log('Error deleting volunteer!');\n    });\n  }\n  show_add_volunteer_form() {\n    this.show_volunteer_form = true;\n    this.volunteer = {};\n    this.volunteer_id = -1;\n  }\n}\nVolunteersComponent.ɵfac = function VolunteersComponent_Factory(t) {\n  return new (t || VolunteersComponent)(i0.ɵɵdirectiveInject(i1.VolunteersService), i0.ɵɵdirectiveInject(i2.SheltersService));\n};\nVolunteersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VolunteersComponent,\n  selectors: [[\"app-volunteers\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [1, \"text-info\", \"mt-4\", \"ml-4\"], [1, \"text-danger\", \"mt-4\", \"ml-4\"], [1, \"btn\", \"btn-success\", \"mx-4\", \"my-4\", 3, \"disabled\", \"click\"], [\"class\", \"card mb-3 px-4 py-4\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"card mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"mb-3\", \"px-4\", \"py-4\", 3, \"ngSubmit\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"id\", \"floating_name\", \"placeholder\", \"volunteer_name\", \"name\", \"volunteer_name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floating_name\"], [\"type\", \"text\", \"id\", \"floating_surname\", \"placeholder\", \"volunteer_surname\", \"name\", \"volunteer_surname\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floating_surname\"], [1, \"form-floating\", \"mb-4\"], [\"type\", \"number\", \"id\", \"floating_age\", \"placeholder\", \"volunteer_age\", \"name\", \"volunteer_age\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floating_age\"], [\"id\", \"volunteer_shelter\", \"aria-label\", \"Floating label select example\", \"name\", \"volunteer_shelter\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"volunteer_shelter\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mb-3\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [3, \"ngValue\"], [1, \"card\", \"mb-3\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-subtitle\", \"mb-2\", \"text-muted\"], [1, \"card-text\"], [1, \"btn\", \"btn-primary\", \"mr-3\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"class\", \"card my-3 px-4 py-4\", 3, \"ngSubmit\", 4, \"ngIf\"], [1, \"card\", \"my-3\", \"px-4\", \"py-4\", 3, \"ngSubmit\"], [\"type\", \"text\", 1, \"form-control\", 3, \"id\", \"placeholder\", \"name\", \"ngModel\", \"ngModelChange\"], [3, \"for\"], [\"type\", \"number\", 1, \"form-control\", 3, \"id\", \"placeholder\", \"name\", \"ngModel\", \"ngModelChange\"], [\"aria-label\", \"Floating label select example\", 1, \"form-select\", 3, \"id\", \"name\", \"ngModel\", \"ngModelChange\"], [\"selected\", \"\", 3, \"ngValue\"]],\n  template: function VolunteersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, VolunteersComponent_div_0_Template, 3, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, VolunteersComponent_div_1_Template, 3, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","VolunteersComponent","constructor","volunteersService","sheltersService","volunteers","loaded","volunteer_not_found","show_volunteer_form","volunteer_id","shelters","volunteer","ngOnInit","getAllVolunteers","subscribe","err","getAllShelters","console","log","add_volunteer","addVolunteer","v","edit_volunteer","id","update_volunteer","updateVolunteer","i","length","delete_volunteer","deleteVolunteer","status","splice","show_add_volunteer_form","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/temich/Desktop/aisha/webdev/Adopt-me-/front/Adopt-Me/src/app/volunteers/volunteers.component.html","/Users/temich/Desktop/aisha/webdev/Adopt-me-/front/Adopt-Me/src/app/volunteers/volunteers.component.ts"],"sourcesContent":["<div *ngIf=\"!loaded\">\n  <h2 class=\"text-info mt-4 ml-4\">Loading...</h2>\n</div>\n\n<div *ngIf=\"loaded\">\n  <div *ngIf=\"volunteer_not_found\">\n    <h2 class=\"text-danger mt-4 ml-4\">Volunteers not found!</h2>\n  </div>\n\n  <div *ngIf=\"!volunteer_not_found\">\n\n    <button class=\"btn btn-success mx-4 my-4\" [disabled]=\"show_volunteer_form\" (click)=\"show_add_volunteer_form()\">ADD VOLUNTEER</button>\n\n    <form (ngSubmit)=\"add_volunteer()\" class=\"card mb-3 px-4 py-4\" *ngIf=\"show_volunteer_form && volunteer_id == -1\">\n      <div class=\"form-floating mb-3\">\n        <input type=\"text\" class=\"form-control\" id=\"floating_name\" placeholder=\"volunteer_name\" name=\"volunteer_name\" [(ngModel)]=\"volunteer.name\">\n        <label for=\"floating_name\">Name: </label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input type=\"text\" class=\"form-control\" id=\"floating_surname\" placeholder=\"volunteer_surname\" name=\"volunteer_surname\" [(ngModel)]=\"volunteer.surname\">\n        <label for=\"floating_surname\">Surname: </label>\n      </div>\n      <div class=\"form-floating mb-4\">\n        <input type=\"number\" class=\"form-control\" id=\"floating_age\" placeholder=\"volunteer_age\" name=\"volunteer_age\" [(ngModel)]=\"volunteer.age\">\n        <label for=\"floating_age\">Age: </label>\n      </div>\n\n      <div class=\"form-floating mb-4\">\n        <select class=\"form-select\" id=\"volunteer_shelter\" aria-label=\"Floating label select example\" name=\"volunteer_shelter\" [(ngModel)]=\"volunteer.working_shelter\">\n          <option *ngFor=\"let sh of shelters\" [ngValue]=\"sh\">{{sh.name}}</option>\n        </select>\n        <label for=\"volunteer_shelter\">Shelter: </label>\n      </div>\n\n      <button type=\"submit\" class=\"btn btn-success mb-3\">SAVE</button>\n      <br>\n      <button class=\"btn btn-secondary\" (click)=\"show_volunteer_form=false\">CANCEL</button>\n    </form>\n\n    <div class=\"card mb-3\" *ngFor=\"let v of volunteers\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{{v.name}} {{v.surname}}</h5>\n        <h6 class=\"card-subtitle mb-2 text-muted\">Works at {{v.working_shelter.name}} shelter</h6>\n        <p class=\"card-text\">{{v.age}} years old.</p>\n        <button class=\"btn btn-primary mr-3\" [disabled]=\"show_volunteer_form\" (click)=\"edit_volunteer(v)\">Edit</button>\n        <button class=\"btn btn-danger\" (click)=\"delete_volunteer(v.id)\">Delete</button>\n\n        <form (ngSubmit)=\"update_volunteer()\" class=\"card my-3 px-4 py-4\" *ngIf=\"show_volunteer_form && volunteer_id == v.id\">\n          <div class=\"form-floating mb-3\">\n            <input type=\"text\" class=\"form-control\" id=\"floating_name_{{v.id}}\" placeholder=\"volunteer_name_{{v.id}}\" name=\"volunteer_name_{{v.id}}\" [(ngModel)]=\"volunteer.name\">\n            <label for=\"floating_name_{{v.id}}\">Name: </label>\n          </div>\n          <div class=\"form-floating mb-3\">\n            <input type=\"text\" class=\"form-control\" id=\"floating_surname_{{v.id}}\" placeholder=\"volunteer_surname_{{v.id}}\" name=\"volunteer_surname_{{v.id}}\" [(ngModel)]=\"volunteer.surname\">\n            <label for=\"floating_surname_{{v.id}}\">Surname: </label>\n          </div>\n          <div class=\"form-floating mb-4\">\n            <input type=\"number\" class=\"form-control\" id=\"floating_age_{{v.id}}\" placeholder=\"volunteer_age_{{v.id}}\" name=\"volunteer_age_{{v.id}}\" [(ngModel)]=\"volunteer.age\">\n            <label for=\"floating_age_{{v.id}}\">Age: </label>\n          </div>\n\n          <div class=\"form-floating mb-4\">\n            <select class=\"form-select\" id=\"volunteer_shelter_{{v.id}}\" aria-label=\"Floating label select example\" name=\"volunteer_shelter_{{v.id}}\" [(ngModel)]=\"volunteer.working_shelter\">\n              <option [ngValue]=\"volunteer.working_shelter\" selected>{{volunteer.working_shelter.name}}</option>\n              <option *ngFor=\"let sh of shelters\" [ngValue]=\"sh\">{{sh.name}}</option>\n            </select>\n            <label for=\"volunteer_shelter_{{v.id}}\">Shelter: </label>\n          </div>\n\n          <button type=\"submit\" class=\"btn btn-success mb-3\">SAVE</button>\n          <br>\n          <button class=\"btn btn-secondary\" (click)=\"show_volunteer_form=false\">CANCEL</button>\n        </form>\n      </div>\n    </div>\n\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {volunteer} from \"../models/volunteer\";\nimport {VolunteersService} from \"../services/volunteers.service\";\nimport {Shelter} from \"../models/shelters\";\nimport {SheltersService} from \"../services/shelters.service\";\n\n@Component({\n  selector: 'app-volunteers',\n  templateUrl: './volunteers.component.html',\n  styleUrls: ['./volunteers.component.css']\n})\nexport class VolunteersComponent implements OnInit{\n  volunteers: volunteer[];\n  loaded: boolean;\n  volunteer_not_found: boolean;\n  show_volunteer_form: boolean;\n  volunteer_id: number;\n  shelters: Shelter[];\n  volunteer: volunteer;\n\n  constructor(\n    private volunteersService: VolunteersService,\n    private sheltersService: SheltersService\n  ) {\n    this.volunteers = [];\n    this.loaded = true;\n    this.volunteer_not_found = false;\n    this.show_volunteer_form = false;\n    this.volunteer_id = -1;\n    this.shelters = [];\n    this.volunteer = {} as volunteer;\n  }\n\n  ngOnInit(): void {\n    this.loaded = false;\n\n    this.volunteersService.getAllVolunteers().subscribe((volunteers) => {\n      this.volunteers = volunteers;\n      this.loaded = true;\n    }, err => {\n      this.volunteer_not_found = true;\n      this.loaded = true;\n    });\n\n    this.sheltersService.getAllShelters().subscribe((shelters) => {\n      this.shelters = shelters;\n    }, err => {\n      console.log('shelters not founded');\n    });\n  }\n\n\n  add_volunteer() {\n    // console.log(this.volunteer);\n\n    this.volunteersService.addVolunteer(this.volunteer).subscribe((v) => {\n      //temp comment\n      // this.volunteers.push(v);\n      this.show_volunteer_form = false;\n    }, err => {\n      console.log('Volunteer can not be added');\n    });\n  }\n\n  edit_volunteer(v: volunteer) {\n    this.volunteer = v;\n    this.volunteer_id = v.id;\n    this.show_volunteer_form = true;\n  }\n\n  update_volunteer() {\n    this.volunteersService.updateVolunteer(this.volunteer_id, this.volunteer).subscribe((v) => {\n      for(let i = 0; i < this.volunteers.length; i++){\n        if(this.volunteers[i].id == v.id){\n          this.volunteers[i] = v;\n          break;\n        }\n      }\n\n      this.show_volunteer_form = false;\n    }, err => {\n      console.log('Error updating volunteer!');\n    });\n  }\n\n  delete_volunteer(id: number) {\n    this.volunteersService.deleteVolunteer(id).subscribe((status) => {\n      for(let i = 0; i < this.volunteers.length; i++){\n        if(this.volunteers[i].id == id){\n          this.volunteers.splice(i, 1);\n        }\n      }\n    }, err => {\n      console.log('Error deleting volunteer!')\n    });\n  }\n\n  show_add_volunteer_form(){\n    this.show_volunteer_form = true;\n    this.volunteer = {} as volunteer;\n    this.volunteer_id = -1;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}