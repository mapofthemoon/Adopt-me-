{"ast":null,"code":"import { COMMON_BASE_URL } from \"./source\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./shelters.service\";\nimport * as i3 from \"./types-of-animal.service\";\nexport class PetsService {\n  constructor(http, sheltersService, typesOfAnimalsService) {\n    this.http = http;\n    this.sheltersService = sheltersService;\n    this.typesOfAnimalsService = typesOfAnimalsService;\n    this.BASE_URL = COMMON_BASE_URL + 'pets/';\n    //temp\n    this.pets = [{\n      id: 1,\n      name: 'Calico',\n      type_of_animal_id: this.typesOfAnimalsService.types_of_animals[0],\n      shelter: this.sheltersService.shelters[0],\n      age: 2\n    }, {\n      id: 2,\n      name: 'Korgi',\n      type_of_animal_id: this.typesOfAnimalsService.types_of_animals[1],\n      shelter: this.sheltersService.shelters[1],\n      age: 3\n    }];\n  }\n  getAllPets() {\n    return this.http.get(this.BASE_URL);\n    // return new Observable<Pet[]>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(this.pets);\n    //   } ,0);\n    // });\n  }\n\n  getPetById(id) {\n    return this.http.get(`${this.BASE_URL}${id}`);\n  }\n  addPet(pet) {\n    return this.http.post(`${this.BASE_URL}`, pet);\n    // this.pets.push(pet);\n    //\n    // return new Observable<Pet>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(pet);\n    //   } ,0);\n    // });\n  }\n\n  updatePet(id, pet) {\n    return this.http.put(`${this.BASE_URL}${id}`, pet);\n    // for(let i = 0; this.pets.length; i++){\n    //   if(this.pets[i].id == pet.id){\n    //     this.pets[i] = pet;\n    //     break;\n    //   }\n    // }\n    // return new Observable<Pet>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(pet);\n    //   } ,0);\n    // });\n  }\n\n  deletePet(id) {\n    return this.http.delete(`${this.BASE_URL}${id}`);\n    // for(let i = 0; this.pets.length; i++){\n    //   if(this.pets[i].id == id){\n    //     this.pets.splice(i, 1);\n    //     break;\n    //   }\n    // }\n    //\n    // return new Observable<number>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(1);\n    //   }, 1000);\n    // });\n  }\n}\n\nPetsService.ɵfac = function PetsService_Factory(t) {\n  return new (t || PetsService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.SheltersService), i0.ɵɵinject(i3.TypesOfAnimalService));\n};\nPetsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PetsService,\n  factory: PetsService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAEA,SAAQA,eAAe,QAAO,UAAU;;;;;AASxC,OAAM,MAAOC,WAAW;EAOtBC,YACUC,IAAgB,EAChBC,eAAgC,EAChCC,qBAA2C;IAF3C,SAAI,GAAJF,IAAI;IACJ,oBAAe,GAAfC,eAAe;IACf,0BAAqB,GAArBC,qBAAqB;IAE7B,IAAI,CAACC,QAAQ,GAAGN,eAAe,GAAG,OAAO;IAEzC;IACA,IAAI,CAACO,IAAI,GAAG,CACV;MAACC,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEC,iBAAiB,EAAE,IAAI,CAACL,qBAAqB,CAACM,gBAAgB,CAAC,CAAC,CAAC;MAAEC,OAAO,EAAE,IAAI,CAACR,eAAe,CAACS,QAAQ,CAAC,CAAC,CAAC;MAAEC,GAAG,EAAE;IAAC,CAAC,EAC7I;MAACN,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,OAAO;MAAEC,iBAAiB,EAAE,IAAI,CAACL,qBAAqB,CAACM,gBAAgB,CAAC,CAAC,CAAC;MAAEC,OAAO,EAAE,IAAI,CAACR,eAAe,CAACS,QAAQ,CAAC,CAAC,CAAC;MAAEC,GAAG,EAAE;IAAC,CAAC,CAC7I;EACH;EAEOC,UAAU;IACf,OAAO,IAAI,CAACZ,IAAI,CAACa,GAAG,CAAQ,IAAI,CAACV,QAAQ,CAAC;IAE1C;IACA;IACA;IACA;IACA;EACF;;EAEOW,UAAU,CAACT,EAAU;IAC1B,OAAO,IAAI,CAACL,IAAI,CAACa,GAAG,CAAM,GAAG,IAAI,CAACV,QAAQ,GAAGE,EAAE,EAAE,CAAC;EACpD;EAEOU,MAAM,CAACC,GAAQ;IACpB,OAAO,IAAI,CAAChB,IAAI,CAACiB,IAAI,CAAM,GAAG,IAAI,CAACd,QAAQ,EAAE,EAAEa,GAAG,CAAC;IACnD;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;EAEOE,SAAS,CAACb,EAAU,EAAEW,GAAQ;IACnC,OAAO,IAAI,CAAChB,IAAI,CAACmB,GAAG,CAAM,GAAG,IAAI,CAAChB,QAAQ,GAAGE,EAAE,EAAE,EAAEW,GAAG,CAAC;IAEvD;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;EAEF;;EAEOI,SAAS,CAACf,EAAU;IACzB,OAAO,IAAI,CAACL,IAAI,CAACqB,MAAM,CAAM,GAAG,IAAI,CAAClB,QAAQ,GAAGE,EAAE,EAAE,CAAC;IACrD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;;;AA9EWP,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAwB,SAAXxB,WAAW;EAAAyB,YAFV;AAAM","names":["COMMON_BASE_URL","PetsService","constructor","http","sheltersService","typesOfAnimalsService","BASE_URL","pets","id","name","type_of_animal_id","types_of_animals","shelter","shelters","age","getAllPets","get","getPetById","addPet","pet","post","updatePet","put","deletePet","delete","factory","providedIn"],"sourceRoot":"","sources":["/Users/temich/Desktop/aisha/webdev/Adopt-me-/front/Adopt-Me/src/app/services/pets.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {HttpClient} from \"@angular/common/http\";\nimport {COMMON_BASE_URL} from \"./source\";\nimport {Observable} from \"rxjs\";\nimport {Pet} from \"../models/pets\";\nimport {SheltersService} from \"./shelters.service\";\nimport {TypesOfAnimalService} from \"./types-of-animal.service\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PetsService {\n\n  private BASE_URL: string;\n\n  //temp\n  private pets: Pet[];\n\n  constructor(\n    private http: HttpClient,\n    private sheltersService: SheltersService,\n    private typesOfAnimalsService: TypesOfAnimalService\n  ) {\n    this.BASE_URL = COMMON_BASE_URL + 'pets/';\n\n    //temp\n    this.pets = [\n      {id: 1, name: 'Calico', type_of_animal_id: this.typesOfAnimalsService.types_of_animals[0], shelter: this.sheltersService.shelters[0], age: 2},\n      {id: 2, name: 'Korgi', type_of_animal_id: this.typesOfAnimalsService.types_of_animals[1], shelter: this.sheltersService.shelters[1], age: 3}\n    ];\n  }\n\n  public getAllPets(): Observable<Pet[]>{\n    return this.http.get<Pet[]>(this.BASE_URL);\n\n    // return new Observable<Pet[]>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(this.pets);\n    //   } ,0);\n    // });\n  }\n\n  public getPetById(id: number): Observable<Pet> {\n    return this.http.get<Pet>(`${this.BASE_URL}${id}`);\n  }\n\n  public addPet(pet: Pet): Observable<Pet> {\n    return this.http.post<Pet>(`${this.BASE_URL}`, pet);\n    // this.pets.push(pet);\n    //\n    // return new Observable<Pet>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(pet);\n    //   } ,0);\n    // });\n  }\n\n  public updatePet(id: number, pet: Pet): Observable<Pet> {\n    return this.http.put<Pet>(`${this.BASE_URL}${id}`, pet);\n\n    // for(let i = 0; this.pets.length; i++){\n    //   if(this.pets[i].id == pet.id){\n    //     this.pets[i] = pet;\n    //     break;\n    //   }\n    // }\n\n    // return new Observable<Pet>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(pet);\n    //   } ,0);\n    // });\n\n  }\n\n  public deletePet(id: number): Observable<any> {\n    return this.http.delete<any>(`${this.BASE_URL}${id}`)\n    // for(let i = 0; this.pets.length; i++){\n    //   if(this.pets[i].id == id){\n    //     this.pets.splice(i, 1);\n    //     break;\n    //   }\n    // }\n    //\n    // return new Observable<number>(observer => {\n    //   setTimeout(() => {\n    //     observer.next(1);\n    //   }, 1000);\n    // });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}